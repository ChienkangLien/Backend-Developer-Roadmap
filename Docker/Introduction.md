# Introduction
Docker 是一種開源平台，用於將應用程序、其依賴項和配置打包成輕量級、可移植的容器。它利用容器化技術，使開發者能夠更方便地構建、部署和運行應用程序，而無需擔心環境差異和依賴問題。
## What are Containers?
容器是輕量級、可移植且隔離的軟件環境，允許開發者在不同平台上運行和打包應用程序及其依賴項。它們有助於簡化應用程序的開發、部署和管理流程，同時確保應用程序在不同基礎設施下一致運行。
### How do containers work?
與傳統虛擬化不同，傳統虛擬化會模擬完整的操作系統及其硬件資源，而容器則共享主機的操作系統內核，並利用輕量級虛擬化技術來創建隔離的進程。
* 高效性：容器的開銷較小，可以共享通用庫和可執行文件，相比虛擬機（VMs），可以在單個主機上運行更多的容器。
* 可移植性：容器封裝了應用程序及其依賴項，因此可以輕松地在不同的環境和平台上移動和運行，並保持一致性。
* 快速啟動：由於容器無需啟動完整的操作系統，因此它們的啟動和關閉速度比虛擬機快得多。
* 一致性：容器為應用程序的開發、測試和生產階段提供了一致的環境。

### Containers and Docker
Docker 是一個平台，簡化了創建、部署和管理容器的流程。它為開發者和管理員提供了一套工具和 API 來管理容器化的應用程序。使用 Docker，你可以將應用程序代碼、庫和依賴打包到一個container image 中，這個image 可以在支持 Docker 的任何環境中一致地分發和運行。

## Need for Containers
在容器出現之前，開發者在部署應用程序時經常面臨以下挑戰：
* 環境不一致：開發者常常在不同的環境中工作，這些環境可能與生產服務器的配置和庫不同，導致部署應用程序時出現兼容性問題。
* 資源利用效率低下：為了克服環境不一致性，虛擬機（VMs）被廣泛使用。然而，VMs 需要為每個應用程序運行一個完整的操作系統，使得資源利用效率低下。
* 流程緩慢和擴展性問題：傳統的部署方法市場推出時間較慢，並且存在擴展困難，這妨礙了軟件更新的快速交付。

容器是如何解決這些挑戰的：
* 環境一致性：容器通過將應用程序及其依賴、配置和庫打包到單個容器中，解決了環境不一致性的問題。這保證了應用程序在不同環境下的順利運行。
* 資源利用效率：與虛擬機不同，容器共享底層系統資源和操作系統內核，使它們更輕量級、更高效。容器被設計為使用更少的資源，並且啟動更快，提高了資源利用效率。
* 更快速的流程和擴展性：容器可以輕松地創建、銷毀和替換，導致更快的開發和部署周期。隨著多個容器的部署，應用程序的擴展變得更加容易，並且不會消耗大量資源。

## Bare Metal vs VM vs Containers
以下是裸機（Bare Metal）、虛擬機（Virtual Machines）和容器（Containers）之間的區別概述：

* 裸機
直接在硬件上運行而無任何虛擬化的計算機。這是運行應用程序性能最高的方式，但也是最不靈活的方式。您只能在一個服務器上運行一個應用程序，並且不能輕松地將應用程序移動到另一台服務器上。

* 虛擬機
在單台服務器上運行多個應用程序的方式。每個虛擬機運行在一個稱為 hypervisor 的軟件之上，hypervisor 是一種模擬計算機硬件的軟件。hypervisor 允許您在單個服務器上運行多個操作系統，並提供了在不同虛擬機中運行的應用程序之間的隔離。

* 容器
在單台服務器上運行多個應用程序而無需 hypervisor 開銷的方式。每個容器運行在一個稱為容器引擎的軟件之上，容器引擎是一種模擬計算機操作系統的軟件。容器引擎允許您在單個服務器上運行多個應用程序，並提供了在不同容器中運行的應用程序之間的隔離。

## Docker and OCI
Open Container Initiative（OCI）是 Linux 基金會的一個專案，旨在為容器格式和runtimes 創建行業標準。其主要目標是通過明確的技術規範，確保容器環境的兼容性和互操作性。

### Docker 在 OCI 中的角色
Docker 是 OCI 的創始成員之一，在塑造容器格式和runtimes 的標準方面發揮了關鍵作用。Docker 最初開發了container runtime（Docker Engine）和image 格式（Docker Image），作為 OCI 規範的基礎。

### OCI 規範
OCI 有兩個主要規範：
* Runtime 規範（runtime-spec）：它定義了通過隔離技術執行容器的規範，比如container engine。由 Docker 開發的container runtime 稱為 'containerd'，它指導了 OCI runtime 規範的發展。
* Image 規範（image-spec）：它定義了容器image 格式，描述了容器的內容，並可以由符合規範的runtime 運行。Docker 最初的image 格式導致了 OCI image 規範的創建。

### Docker 和 OCI 之間的兼容性
Docker 仍然致力於支持 OCI 規範，自從參與 OCI 以來，持續更新其軟件以符合 OCI 標準。Docker 的 containerd runtime 和image 格式完全兼容 OCI 規範，使得其他符合 OCI 標準的container runtime 可以運行 Docker 容器，反之亦然。